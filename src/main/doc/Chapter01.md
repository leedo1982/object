# Chapter 01 객체, 설계

글래스의 이야기에서 알수 있는 것처럼 설계나 유지보수를 이야기할 때 이론을 중심에 두는 것은 적절하지 않다.
추상적인 개념과 이론은 훌륭한 코드를 작성하는데 필요한 도구일 뿐이다. 프로그래밍을 통해 개념과 이론을 배우는 것이 개념과 이론을 통해 프로그래밍을 배오는 것보다
훌륭한 학습방법이라고 생각한다.

## 01 티켓 판매 애플리케이션 구현하기

## 02 무엇이 문제인가

로버트 마틴은 소프트웨어 모듈이 가져야 하는 세가지 기능에 관해 설명한다. 여기서 모듈이란 크기와 상관없이 클래스나 패키지, 라이브러리와
같이 프로그램을 구성하는 임의의 요소를 의미한다.

```text
모든 소프트웨어 모듈에는 세거지 목적이 있다.
첫번째 목적은 실행 중에 제대로 동작하는 것이다.
두번째 목적은 변경을 이해 존재하는 것이다.
세번째 목적은 코드를 읽는 사람과 의사소통하는 것이다.
```

### 예상을 빗나가는 코드

문제는 관람객과 판매원이 소극장의 통제를 받는 수동적인 존재라는 점이다.  
이해가능한 코드란 그 동장이 우리의 예상에서 크게 벗어나지 않는 코드다.  
하지만 가장 심각한 ㅁㄴ제는 Audiece 와 TickerSeller 를 변경할 경ㅇ Theater 도 함께 변경해야 한다는 사실이다.

### 변경에 취약한 코드

더 큰문제는 변경에 취약하다는 것이다. 이것은 객체 사이의 의존성과 관련된 문제다. 의존성이라는 말 속에는 어떤 객체가 변경될때
그 객체에게 의존하는 다른 객체도 함께 변경될 수 있다는 사실이 내포돼 있다.  
그렇다고 객체사이의 의존성을 완전히 없애는 것이 정답은 아니다. 객체지향 설계는 서로 의존하면서 협력하는 객체들의 공동체를
구축하는 것이다. 따라서 우리의 목표는 애플리케이션의 기능을 구현하는데 필요한 최소한의 의존성만 유지하고 불필요한 의존성을 제거하는 것이다.
객체사이의 의존성이 과한 경우를 겳하도가 높다고 한다.

## 03 설계 개선하기

해결방법은 간단하다. Theater 가 Audience 와 TicketSeller 에 관해 정보를 차단하면된다. 다시말해 Audience 와 TicketSeller 를 자율적인 존재로 만들면 되는 것이다.

### 자율성을 높이자

개념적이나 물리적으로 객체 내부의 세부적인 사항을 감추는 것을 캡슐화라고 부른다.
캡슐화의 목적은 변경하기 슁ㄴ 객체를 만드는 것이다.

객체를 인터페이스와 구현으로 나누고 인터페이스만을 공개하는 것은 객체사이의 결합도를 낮추고 변경하기 쉬운 코드를 작성하기 위해 따라야 하는 가장 기본적인 설계 원칙이다.

### 무엇이 개선되었는가

### 어떻게 한것인가

우리는 객체의 자율성을 높이는 방향으로 설계를 개선했다. 그결과 이해하기 쉽고 유연한 설계를 얻을 수 있었다.

### 캡슐화와 응집도

밀접하게 연관된 작업만을 수행하고 연관성없는 작업은 다른 객체에게 위임하는 객체를 가리켜 응집도가 높다고 말한다.
외부의 간섭을 최대한 배제하고 메시지를 통해서만 협력하는 자율적인 객체들의 공통체를 만드는 것이 훌륭한 객체지향 설계를 얻을 수 있는 지름길인 것이다.

### 절차지행과 객체지향

### 책임의 이동

두 방식 사이에 근본적인 차이를 만드는 것은 책임의 이동이다.  
객체지향 설계에서는 독재자가 존재하지 않고 각 객체에 책임이 적절하게 분배된다. 따라서 객체는 자신을 스스로 책임진다.  
설계를 어렵게 만드는 것은 의존성이라는 것을 기억하라.
불필요한 의존성을 제거함으로써 객체사이의 결합도를 낮추고, 캡슐화하여 객체의 자율성을 높이고 응집도 높은 객체들의 공동체를 창조할 수 있게 한다.

### 더 개선할 수 있다.

### 그래 거짓말이다.

비록 현실에서는 수동적인 존재라고 하더라도 일단 객체지향의 세계에 들어오면 모든것이 능동적이고 자율적인 존재로 바뀐다.
레베카 워프스브록은 이처럼 능동적이고 자율적인 존재로 소프트웨어 객체를 설계하는 원칙을 가리켜 의인화라고 부른다.

## 04 객체지행 설계

### 설계가 왜 필요한가?

"설계란 코드를 배치하는 것이다."
오늘 완성해야 하는 기능을 구현하는 코드를 짜야 하는 동시에 내일 쉽게 변경할 수 있는 코드를 짜야한다.

### 객체지향 설계

변경 가능한 코드란 이해하기 쉬운 코드다.  
데이터와 프로세스를 하나의 덩어리로 모으는 것은 훌륭한 객체지향 설계로 가는 첫걸음일 뿐이다.
